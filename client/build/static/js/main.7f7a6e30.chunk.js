(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports={coordsText:"comps_coordsText__3106e",weatherText:"comps_weatherText__3iwyp",loadingButtonContainer:"comps_loadingButtonContainer__1GLpu",refreshButtonContainer:"comps_refreshButtonContainer__29zmq"}},38:function(e,t,a){},55:function(e,t,a){e.exports=a(73)},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),c=a.n(o),i=a(105),l=a(94),s=a(95),m=a(96),d=a(97),u=Object(l.a)({root:{flexGrow:1},typography:{alignItems:"center"}});function f(){var e=u();return r.a.createElement("div",{className:e.root},r.a.createElement(s.a,{position:"static",color:"primary",className:e.typography},r.a.createElement(m.a,null,r.a.createElement(d.a,{variant:"h6",color:"inherit",align:"center"},"WEATHER"))))}var p=a(36),h=a(19),E=a(45),v=a(37),y=a(44),g=a(106),A=a(98),b=a(99),S=a(100),C=Object(l.a)({card:{flex:1},title:{fontSize:14},pos:{marginBottom:12}});function x(e){var t=e.title,a=e.data,n=C();return r.a.createElement(A.a,{item:!0,md:6,xs:12},r.a.createElement(b.a,{className:n.card},r.a.createElement(S.a,null,r.a.createElement(d.a,{className:n.title,color:"textSecondary",gutterBottom:!0},t),r.a.createElement(d.a,{variant:"h5",component:"h2"},a))))}var w=function(e){var t=e.data.currently;return r.a.createElement(g.a,null,r.a.createElement(A.a,{container:!0,spacing:1},r.a.createElement(x,{data:t.summary,title:"Summary"}),r.a.createElement(x,{data:"".concat((5*(t.temperature-32)/9).toFixed(2)," \xb0C"),title:"Temperature"}),r.a.createElement(x,{data:"".concat(t.pressure," pHa"),title:"Pressure"}),r.a.createElement(x,{data:"".concat(t.humidity," %"),title:"Humidity"}),r.a.createElement(x,{data:"".concat((1.6*t.visibility).toFixed(2)," Km"),title:"Visibility"}),r.a.createElement(x,{data:"".concat((1.6*t.windSpeed).toFixed(2)," Km/h"),title:"Wind Speed"})))},N=a(101),B=a(102),W=a(104),_=a(103),j=a(46),O=a(38),k=a.n(O),T=Object(l.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:650}}});var R=function(e){for(var t,a,n=e.data.hourly,o=T(),c=[],i=1;i<=24;i++)c.push((t=n.data[i].time,a=n.data[i].temperature,{time:t,temperature:a}));return r.a.createElement("div",{className:k.a.horizontalScrollBarStyle},r.a.createElement(g.a,{mb:2},r.a.createElement(j.a,{className:o.root},r.a.createElement(N.a,{className:o.table},r.a.createElement(B.a,null,r.a.createElement(_.a,null,c.map(function(e,t){return r.a.createElement(W.a,{key:t},e.time)})),r.a.createElement(_.a,null,c.map(function(e,t){return r.a.createElement(W.a,{key:t},e.temperature)})))))))},P=Object(l.a)({card:{flex:1},title:{fontSize:14,textAlign:"center"},data:{textAlign:"center"},pos:{marginBottom:12}});function I(e){var t=e.title,a=e.data,n=P();return r.a.createElement(g.a,{mt:1,mb:2},r.a.createElement(b.a,{className:n.card},r.a.createElement(S.a,null,r.a.createElement(d.a,{className:n.title,color:"textSecondary",gutterBottom:!0},t),r.a.createElement(d.a,{className:n.data,variant:"h5",component:"h2"},a.town,", ",a.county))))}var z=a(107),D=a(28),F=a.n(D),H=function(e){return r.a.createElement("div",{className:F.a.refreshButtonContainer},r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:e.onClick,mb:2},"Refresh"))},J=function(){return r.a.createElement("div",{className:F.a.loadingButtonContainer},r.a.createElement(z.a,{variant:"contained",color:"primary"},"Loading Weather ..."))},L=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={coords:{},infoWeatherReceived:!1,infoWeather:"",locationAddressReceived:!1,locationAddress:""},a.findCoordsAndCallAPIs=function(){navigator.geolocation.getCurrentPosition(function(e){a.setState({coords:{lat:e.coords.latitude,lon:e.coords.longitude}}),a.fetchDataAndSetState("/api/coords"),a.fetchDataAndSetState("/api/locationAddress")})},a.fetchDataAndSetState=function(e){var t=a.state.coords,n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch(e,n).then(function(e){return e.json()}).then(function(t){"/api/coords"===e?a.setState({infoWeatherReceived:!0,infoWeather:t}):"/api/locationAddress"===e&&a.setState({locationAddressReceived:!0,locationAddress:t})})},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.findCoordsAndCallAPIs()}},{key:"render",value:function(){return this.state.infoWeatherReceived&&this.state.locationAddressReceived?r.a.createElement(g.a,null,r.a.createElement(I,{mb:5,title:"Location",data:this.state.locationAddress}),r.a.createElement(w,{data:this.state.infoWeather}),r.a.createElement(R,{data:this.state.infoWeather}),r.a.createElement(H,{onClick:this.findCoordsAndCallAPIs})):r.a.createElement(J,null)}}]),t}(n.Component);c.a.render(r.a.createElement(function(){return r.a.createElement(i.a,{maxWidth:"sm"},r.a.createElement(f,null),r.a.createElement(L,null))},null),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.7f7a6e30.chunk.js.map